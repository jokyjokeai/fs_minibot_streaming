# MiniBotPanel v3 - Environment Variables
# Copiez ce fichier vers .env et configurez vos valeurs

# ============================================
# DATABASE
# ============================================
DATABASE_URL=postgresql://minibot:minibot@localhost:5432/minibot_freeswitch

# ============================================
# FREESWITCH ESL
# ============================================
FREESWITCH_ESL_HOST=localhost
FREESWITCH_ESL_PORT=8021
FREESWITCH_ESL_PASSWORD=ClueCon

# Numéro émetteur (CallerID)
FREESWITCH_CALLER_ID=+33123456789

# ============================================
# AI SERVICES
# ============================================

# Vosk STT
VOSK_MODEL_PATH=models/vosk-model-small-fr-0.22
VOSK_SAMPLE_RATE=8000

# Ollama NLP
OLLAMA_URL=http://localhost:11434
OLLAMA_MODEL=mistral:7b
OLLAMA_TIMEOUT=30

# Coqui TTS
COQUI_MODEL=tts_models/multilingual/multi-dataset/xtts_v2
COQUI_USE_GPU=false
COQUI_CACHE_DIR=models/coqui_cache

# HuggingFace (requis pour pyannote.audio speaker diarization)
# 1. Créer compte: https://huggingface.co
# 2. Générer token: https://huggingface.co/settings/tokens (read access suffit)
# 3. Accepter conditions: https://huggingface.co/pyannote/speaker-diarization-3.1
HUGGINGFACE_TOKEN=hf_VOTRE_TOKEN_ICI

# ============================================
# AMD (ANSWERING MACHINE DETECTION)
# ============================================
AMD_DUAL_LAYER=true
AMD_MAX_GREETING_TIME=5.0
AMD_MAX_WORDS=3
AMD_SILENCE_THRESHOLD=0.5

# ============================================
# SYSTEM LIMITS
# ============================================
MAX_CONCURRENT_CALLS=10
DELAY_BETWEEN_CALLS=2
CALL_TIMEOUT=300
RESPONSE_TIMEOUT=10

# ============================================
# CACHE & PERFORMANCE
# ============================================
PRELOAD_MODELS=true
CACHE_SCENARIOS=true
CACHE_VOICES=true

# ============================================
# API REST
# ============================================
API_HOST=0.0.0.0
API_PORT=8000
API_RELOAD=true
API_WORKERS=4

# CORS (optionnel, pour frontend)
API_CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# Protection API simple (mot de passe unique)
API_PASSWORD=changez_moi_en_production

# ============================================
# LOGGING
# ============================================
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=logs/minibot.log
LOG_ROTATION=1 day
LOG_RETENTION=30 days

# ============================================
# PATHS
# ============================================
BASE_DIR=.
AUDIO_DIR=audio
VOICES_DIR=voices
RECORDINGS_DIR=recordings
TRANSCRIPTIONS_DIR=transcriptions
EXPORTS_DIR=exports
LOGS_DIR=logs

# ============================================
# MONITORING
# ============================================
PROMETHEUS_ENABLED=false
PROMETHEUS_PORT=9090

# ============================================
# DEVELOPMENT
# ============================================
DEBUG=false
TESTING=false

# ============================================
# NOTES
# ============================================
#
# 1. Copiez ce fichier:
#    cp .env.example .env
#
# 2. Modifiez les valeurs selon votre configuration
#
# 3. IMPORTANT: Ne commitez JAMAIS le fichier .env (déjà dans .gitignore)
#
# 4. Pour la production:
#    - Changez tous les mots de passe par défaut
#    - Configurez votre provider SIP dans FreeSWITCH
#    - Activez GPU si disponible (COQUI_USE_GPU=true)
